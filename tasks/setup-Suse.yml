---
- name: Print the gateway for each debian host when defined
  ansible.builtin.debug:
    msg: System {{ inventory_hostname }} has gateway {{ ansible_default_ipv4.gateway }}
  when: ansible_default_ipv4.gateway is defined

- name: suse | zypper -n install *.rpm
  ansible.builtin.raw: |
    set -eu
    zypper -n install -y bzip2 ca-certificates curl gcc gpg2 gzip hostname iproute2 procps python3 python3-jmespath python3-lxml python3-pip python3-setuptools python3-virtualenv python3-wheel rsync shadow sudo tar unzip util-linux xz zip
  when: ansible_os_family | lower == "suse"
  changed_when: false
  failed_when: false
